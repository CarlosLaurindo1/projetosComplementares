package controle;

import modelo.Conta;
import visualizacao.*;
import javax.swing.JOptionPane;
import modelo.*;

public class Controladora {
	public void exibeMenu() {
		int opcao;
		boolean contaCriada = false;
		int mes;
		int transacao;
		int relatorio;
		int totalTransacao = 0;
		double valorTransacao;
		String data;

		Conta conta = new Conta();
		String titular = EntradaSaida.solicitarTitular();
		String dataNascimento = EntradaSaida.solicitarData("de Nascimento");
		long cpf = EntradaSaida.solicitarCpfTitular();
		int tipo = EntradaSaida.solicitarTipoConta();
		double saldoAtualizado = EntradaSaida.confirmarValorDepositoInicial();
		if (saldoAtualizado != 0) {
			totalTransacao += 1;
		}
		contaCriada = true;
		do {
			opcao = EntradaSaida.solicitarOpcoes();
			switch (opcao) {
			case 0:
				JOptionPane.showMessageDialog(null, "Opção selecionada: Depósito.");
				totalTransacao += 1;
				EntradaSaida.solicitarData("da Transação");
				valorTransacao = EntradaSaida.solicitarValorTransacao();
				saldoAtualizado = saldoAtualizado + valorTransacao;
				break;
			case 1:
				JOptionPane.showMessageDialog(null, "Opção selecionada: Saque.");
				totalTransacao += 1;
				EntradaSaida.solicitarData("da Transação");
				valorTransacao = EntradaSaida.solicitarValorTransacao();
				saldoAtualizado = saldoAtualizado - valorTransacao;
				if (saldoAtualizado >= -1000) {
					saldoAtualizado = saldoAtualizado + valorTransacao;
					JOptionPane.showMessageDialog(null, "Valor limite foi ultrapassado, a operação não foi permitida."
							+ "\n limite adicional é de R$1000,00. O saldo atual é de R$ " + saldoAtualizado);
				}
				break;
			case 2:
				JOptionPane.showMessageDialog(null,
						"Opção selecionada: Saldo. \n" + "O Saldo atual é de R$: " + saldoAtualizado);
				break;
			case 3:
				JOptionPane.showMessageDialog(null, "Opção selecionada: Saldo.");
				break;
			case 4:
				break;
			case 5:
				break;
			case 6:
				conta.construirInfoTitular();
				break;
			case 7:
				break;
			}

		} while (opcao != 7);
		// EntradaSaida.exibeMsgEncerraPrograma();

	}

}
